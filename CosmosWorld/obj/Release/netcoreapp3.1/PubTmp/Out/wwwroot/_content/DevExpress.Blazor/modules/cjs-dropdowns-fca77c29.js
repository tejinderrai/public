DxBlazorInternal.define("cjs-dropdowns-fca77c29.js",(function(e,t,n){e("./cjs-chunk-c5286524.js");var o=e("./cjs-dom-utils-c4472fdd.js"),i=e("./cjs-chunk-fc814f01.js"),r=e("./cjs-chunk-2cdecb19.js"),s=e("./cjs-chunk-8bdf5a55.js");e("./cjs-chunk-ac940e94.js");var c=e("./cjs-grid-234a64d7.js"),a=e("./cjs-popup-utils-f936a21d.js"),l=e("./cjs-focus-utils-bb76949d.js"),u=e("./cjs-chunk-dcd3551a.js"),d=e("./cjs-dragAndDropUnit-c6409559.js"),h=document.body,f=new window.WeakMap,v=new Map,m={subtree:!0,childList:!0},p=new window.MutationObserver((function(e){e.forEach(g)}));function g(e){e.removedNodes.forEach(w)}function w(e){var t=v.get(e);v.delete(e)&&(0===v.size&&p.disconnect(),t())}var b=function(e,t){this.element=e,this.getClientRect=t},y={leftTopCorner:{configurable:!0},leftBottomCorner:{configurable:!0},rightTopCorner:{configurable:!0},rightBottomCorner:{configurable:!0},center:{configurable:!0}};y.leftTopCorner.get=function(){var e=this;return new E(this.element,(function(t){return e.getClientRect(t)}),(function(e){return{x:0,y:0}}))},y.leftBottomCorner.get=function(){var e=this;return new E(this.element,(function(t){var n=e.getClientRect(t);return new d.PointBlz(n.x,n.bottom)}),(function(t){var n=e.getClientRect(t);return new d.PointBlz(0,-n.height)}))},y.rightTopCorner.get=function(){var e=this;return new E(this.element,(function(t){var n=e.getClientRect(t);return new d.PointBlz(n.right,n.y)}),(function(t){var n=e.getClientRect(t);return new d.PointBlz(n.width,0)}))},y.rightBottomCorner.get=function(){var e=this;return new E(this.element,(function(t){var n=e.getClientRect(t);return new d.PointBlz(n.right,n.bottom)}),(function(t){var n=e.getClientRect(t);return new d.PointBlz(n.width,-n.height)}))},y.center.get=function(){var e=this;return new E(this.element,(function(t){return e.getClientRect(t).center}))},Object.defineProperties(b.prototype,y);var E=function(e,t,n){this.element=e,this.getLocation=t,this.getDelta=n},C={location:{configurable:!0},delta:{configurable:!0}};C.location.get=function(){return this.getLocation(this.element)},C.delta.get=function(){return this.getDelta(this.element)},E.prototype.anchorTo=function(e){return new j(this,e)},Object.defineProperties(E.prototype,C);var j=function(e,t){this.point=e,this.anchor=t,this.events=new u.EventRegister(this);var n=[];if(n.push([window,"resize"]),n.push([window,"scroll"]),this.containers=function(e,t){for(var n=[];null!==e&&"BODY"!==e.tagName&&"#document"!==e.nodeName;)t(e)&&n.push(e),e=e.parentNode;return 0===n.length?null:n}(this.anchor.element.parentNode,this.isElementScrollable),this.containers&&this.containers.forEach((function(e){n.push([e,"scroll"])})),this.checkInCasesInt(n),"undefined"!=typeof ResizeObserver){var o=this;this.resizeObserver=new window.ResizeObserver((function(){o.update()})),this.resizeObserver.observe(this.anchor.element),this.resizeObserver.observe(this.point.element)}else this.resizeObserver=null;this.notStaticParent=this.point.element.offsetParent,this.notStaticParent=this.isStatic(this.notStaticParent)?document.documentElement:this.notStaticParent,this.notStaticParent=null!==this.notStaticParent?this.notStaticParent:{x:0,y:0,scrollTop:0,scrollLeft:0},this.update()};function D(e){return new b(e,d.getClientRectWithMargins)}function P(e){return new b(e,d.getClientRect)}j.prototype.isElementScrollable=function(e){var t=window.getComputedStyle(e);return"static"===t.position&&("scroll"===t["overflow-x"]||"scroll"===t["overflow-y"]||"auto"===t["overflow-x"]||"auto"===t["overflow-y"])},j.prototype.isStatic=function(e){return"static"===window.getComputedStyle(e).position},j.prototype.update=function(){var e=d.geometry(this.anchor.location,"+",this.point.delta,"-",this.notStaticParent,"+",{x:this.notStaticParent.scrollLeft,y:this.notStaticParent.scrollTop}),t=this.point.element;o.changeDom((function(){t.style.left=e.x+"px",t.style.top=e.y+"px"}))},j.prototype.checkInCasesInt=function(e){var t=this.events;e.forEach((function(e){t.attachEvent(e[0],e[1],(function(e){this.update()}))}))},j.prototype.checkInCases=function(){return this.containers?(this.checkInCasesInt(Array.from(arguments)),this.update(),this):this},j.prototype.dispose=function(){this.events&&(this.events.dispose(),this.events=null,this.dropDownStartPos=null,this.containers=null,this.resizeObserver&&this.resizeObserver.disconnect())};var T,x={Popup:0,Modal:1},B=1,S=2,k=new WeakMap;function O(e){var t=(e=o.ensureElement(e)).querySelector("div.dxbs-dm.dropdown-menu");return t||(t=e.querySelector("div.dxgvCSD.dxbs-grid-vsd")),t}function M(e,t,n,i){return new Promise((function(n,r){var s=O(e);return(s=o.ensureElement(s))?(0===i&&(s.style.minWidth=e.offsetWidth+"px"),2===i&&(s.style.width=e.offsetWidth+"px"),N(e,s,t),c.scrollToFocusedItem(s),n()):n()}))}function N(e,t,n,i){k.has(e)&&(k.get(e).disconnect(),k.delete(e));var r=t.offsetParent;if(!r)return o.changeDom((function(){t.style.visibility=""})),void 0;var s,c=r.getBoundingClientRect(),a=e.getBoundingClientRect(),l=a.top-c.top,u=c.bottom-a.bottom,d=window.getComputedStyle(t),h=t.offsetHeight+Math.max(parseFloat(d.marginTop),0)+Math.max(parseFloat(d.marginBottom),0)+8;switch(n){case S:s=!0,c.top+(l-h)<=0&&c.top+l+e.offsetHeight+h+window.pageYOffset<=Math.max(document.body.scrollHeight,window.innerHeight)&&(s=!1);break;case B:default:s=!1,c.bottom-(u-h)>=window.innerHeight&&c.top+l-h+window.pageYOffset>=0&&(s=!0)}o.changeDom((function(){T&&T.dispose(),T=s?D(t).leftBottomCorner.anchorTo(P(e).leftTopCorner):D(t).leftTopCorner.anchorTo(P(e).leftBottomCorner),t.style.visibility=""}))}var z=[{value:0,text:""},{value:1,text:"above"},{value:2,text:"below"},{value:4,text:"top-sides"},{value:8,text:"bottom-sides"},{value:16,text:"outside-left"},{value:32,text:"outside-right"},{value:64,text:"left-sides"},{value:128,text:"right-sides"}];function R(e,t,n){for(var o=e.target;o;){if(o===t)return!1;o=o.parentElement}n&&n()}function I(e){return"hidden"!==e.style.visibility||e.classList.contains("visually-hidden")}var L="a[href], input:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex='-1'])";function H(e,t){if(o.getParentByClassName(e.srcElement,"modal-header"))return!0;var n=o.getParentByClassName(e.srcElement,"column-chooser-elements-container"),i=o.getParentByClassName(n,"modal-body");if(!n||!i)return!1;if(i.clientHeight>=n.clientHeight)return!0;var r=e.touches[0].pageY-t.touches[0].pageY,s=function(e){return e.getBoundingClientRect().top},c=n.querySelector(".column-chooser-element-container");if(c&&s(c)===s(i)&&r>=0&&e.cancelable)return!0;var a=function(e){return Math.round(e.getBoundingClientRect().bottom)},l=n.querySelector(".column-chooser-element-container:last-child");return!!(l&&a(l)===a(i)&&r<=0&&e.cancelable)||void 0}function F(e,t,n){if(n===x.Modal){var i=e.getBoundingClientRect(),r=t.getBoundingClientRect(),s=o.getParentByClassName(e,"dxbs-gridview"),c=s&&s.querySelector("thead");if(c){var a=c.getBoundingClientRect(),l=(a||i).bottom;return l>.5*t.clientHeight?l-i.top<.5*t.clientHeight?l-r.top-.5*t.clientHeight:i.top-r.top-2:void 0}}}var q={init:function(e,t,n,s){if(e=o.ensureElement(e),t=o.ensureElement(t),n=o.ensureElement(n),e){if(i.disposeEvents(e),n){var c=function(r){return R(r,e,(function(){o.elementIsInDOM(e)||i.disposeEvents(e);var r=document.activeElement===t,c=n&&I(n);(r||c)&&s.invokeMethodAsync("OnDropDownLostFocus",t.value)}))};o.attachEventToElement(document,r.TouchUIHelper.touchMouseDownEventName,c),i.registerDisposableEvents(e,(function(){o.detachEventFromElement(document,r.TouchUIHelper.touchMouseDownEventName,c)}))}return Promise.resolve("ok")}},dispose:function(e){return(e=o.ensureElement(e))&&i.disposeEvents(e),T&&T.dispose(),Promise.resolve("ok")},showAdaptiveDropdown:function(e,t,n,i,c){e=o.ensureElement(e);var u=o.getParentByClassName(e,n);if(u){var d=document.documentElement,g=document.documentElement.style.overflow,w=document.body.style.overflow,b=document.body.scroll,y=t.dialogType,E=t.alignment,C=y===x.Modal;y===x.Popup&&(0===E?N(u,e,t.dropDownDirection):a.show(e,u,function(e){var t="";return z.forEach((function(n){0!=(n.value&e)&&(t&&(t+=" "),t+=n.text)})),t}(E)));var j=!1;return d.addEventListener(r.TouchUIHelper.touchMouseDownEventName,D),e.addEventListener("keydown",(function(e){e.keyCode===s.Key.Esc&&T()})),e.addEventListener("focusout",(function(t){var n,o,i;j||(null===t.relatedTarget||e.contains(t.relatedTarget)?null===t.relatedTarget&&d.addEventListener("focusin",P):void((n=e.compareDocumentPosition(t.relatedTarget))&window.Node.DOCUMENT_POSITION_PRECEDING?(i=e.querySelectorAll(L),void((o=i[i.length-1])&&o.focus())):n&window.Node.DOCUMENT_POSITION_FOLLOWING&&S()))})),function(e,t,n,o){e&&t.addEventListener("touchmove",(function(e){e.srcElement===t&&e.preventDefault()}));if(o===x.Modal){var i=null;n.addEventListener("touchstart",(function(e){i=e})),n.addEventListener("touchmove",(function(e){H(e,i)&&e.preventDefault(),i=e}))}}(C,e,u,y),function(e){if(f.has(e))return f.get(e);var t=new Promise((function(t){0===v.size&&p.observe(h,m);v.set(e,(function(){e=null,t()}))}));return f.set(e,t),t}(e).then((function(){B(),e=null})),O(y,!0),y===x.Popup?o.changeDom((function(){e&&(t.showFocus||(o.addClassNameToElement(e,"dxbs-focus-hidden"),l.initFocusHidingEvents(e)),S())})):(window.addEventListener("resize",k),k()),Promise.resolve()}function D(t){(!e.contains(t.srcElement)||y===x.Modal&&e===t.srcElement)&&T()}function P(t){d.removeEventListener("focusin",P),null===t.relatedTarget&&t.target&&e&&e.contains(t.target)&&t.target.focus()}function T(){j||(j=!0,setTimeout((function(){B(),c.invokeMethodAsync("CloseDialog")}),200))}function B(){d.removeEventListener(r.TouchUIHelper.touchMouseDownEventName,D),window.removeEventListener("resize",k),O(y,!1)}function S(){var t=e.querySelector(L);t&&t.focus()}function k(){if(o.getParentByClassName(e,"modal-dialog-owner")){var t=e.firstElementChild.classList,n=F(u,d,y),i=d.clientHeight>d.clientWidth?"topVertical":"topHorizontal";o.RequestAnimationFrame((function(){t.contains("topVertical")||t.contains("topHorizontal")?t.remove("transition"):t.add("transition"),n&&(d.scrollTop=n),t.remove("topVertical","topHorizontal"),t.add(i)}))}}function O(e,t){var n,o,i;e===x.Modal&&(t?(n="hidden",o="hidden",i="no"):(n=g,o=w,i=b),document.documentElement.style.overflow=n,document.body.style.overflow=o,document.body.scroll=i)}},updateGridDropDown:M};n.DialogType=x,n.default=q,n.getDropDownElement=O,n.isDropDownVisible=I,n.onOutsideClick=R,n.scrollDropDown=F,n.setPositionOfDropDown=N,n.shouldPreventTouchMove=H,n.updateGridDropDown=M}),["cjs-chunk-c5286524.js","cjs-dom-utils-c4472fdd.js","cjs-chunk-fc814f01.js","cjs-chunk-2cdecb19.js","cjs-chunk-8bdf5a55.js","cjs-chunk-ac940e94.js","cjs-grid-234a64d7.js","cjs-popup-utils-f936a21d.js","cjs-focus-utils-bb76949d.js","cjs-chunk-dcd3551a.js","cjs-dragAndDropUnit-c6409559.js"]);
