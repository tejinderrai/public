DxBlazorInternal.define("cjs-tagbox-d7821426.js",(function(e,t,n){e("./cjs-chunk-c5286524.js");var o=e("./cjs-dom-utils-c4472fdd.js"),s=e("./cjs-chunk-fc814f01.js"),c=e("./cjs-chunk-2cdecb19.js"),a=e("./cjs-chunk-8bdf5a55.js"),r=e("./cjs-dropdowns-fca77c29.js");e("./cjs-chunk-ac940e94.js");var u=e("./cjs-grid-234a64d7.js");e("./cjs-popup-utils-f936a21d.js"),e("./cjs-focus-utils-bb76949d.js"),e("./cjs-chunk-dcd3551a.js"),e("./cjs-dragAndDropUnit-c6409559.js");var i=e("./cjs-chunk-c564ab5a.js");function l(e){var t=r.getDropDownElement(e);u.scrollToFocusedItem(t)}function d(e,t,n){o.setInputAttribute(e,"value",t),m(e),n&&function(e){e&&e.select()}(e)}function m(e){e.previousSibling.innerText=""===e.value&&e.placeholder?e.placeholder:e.value}function f(e){e=o.ensureElement(e),document.activeElement===e&&p(e)}function v(e,t){var n=e.target;j(n,!0),function(e){if(e){var t=o.getParentByClassName(e,"form-control");t.dataset.bluredClass&&(t.className=t.dataset.bluredClass)}}(n),n.dataset.timerId=setTimeout((function(){if(delete n.dataset.timerId,document.activeElement!==n)try{k(t,n)}catch(e){}}),200)}function j(e,t){e.dataset.timerId&&(clearTimeout(e.dataset.timerId),delete e.dataset.timerId),t||setTimeout((function(){j(e,!0)}),100)}function p(e){if(e){var t=o.getParentByClassName(e,"form-control");t.dataset.focusedClass&&(t.className=t.dataset.focusedClass)}}function E(e,t){return t&&i.keyDown(e),function(e){return h(e)||e.keyCode===a.Key.Enter}(e)&&(e.stopPropagation(),e.preventDefault()),!1}function y(e,t,n,o,s){var c=!1;if(o&&(c=c||i.keyUp(e)),c=c||function(e){var t=e.altKey&&(e.keyCode===a.Key.Down||e.keyCode===a.Key.Up),n=h(e),o=e.keyCode===a.Key.Esc||e.keyCode===a.Key.Enter,s=function(e){var t=0===e.target.value.length;return e.keyCode===a.Key.Backspace&&t}(e);return t||n||o||s}(e)){var r=e.target.value,l=""!==e.target.dataset.previousValue;if(n&&s){var d=n.querySelector(".dxgvCSD");d&&(n=d);var m=u.getParametersForVirtualScrollingRequest(n,!1);t.invokeMethodAsync("OnTagBoxListBoxKeyUp",r,e.keyCode,e.altKey,e.ctrlKey,m.requestScrollState.itemHeight,m.requestScrollState.scrollTop,m.requestScrollState.scrollHeight,l)}else t.invokeMethodAsync("OnTagBoxKeyUp",r,e.keyCode,e.altKey,e.ctrlKey,l)}}function h(e){return e.keyCode===a.Key.Down||e.keyCode===a.Key.Up||e.keyCode===a.Key.PageUp||e.keyCode===a.Key.PageDown||e.ctrlKey&&(e.keyCode===a.Key.Home||e.keyCode===a.Key.End)}function k(e,t,n){if(t){var o=(new Date).getTime();t.dataset.lastLostFocusTime&&o-t.dataset.lastLostFocusTime<300&&!n||(t.dataset.lastLostFocusTime=(new Date).getTime(),document.activeElement!==t&&(t.value=""),e.invokeMethodAsync("OnTagBoxLostFocus",t.value))}}function g(e,t,n){var a=o.ensureElement(e);if(a){s.disposeEvents(a);var u=o.ensureElement(t.inputElement),i=r.getDropDownElement(a),l=function(e){return E(e,t.filteringEnabled)},d=function(e){return y(e,n,i,t.filteringEnabled,t.virtualScrollingEnabled)},f=function(e){return function(e,t){p(e.target)}(e)},h=function(e){return v(e,n)},g=function(e){return m(e.target)},T=function(e){return j(u)},I=function(e){return r.onOutsideClick(e,a,(function(){o.elementIsInDOM(a)||s.disposeEvents(a);var e=document.activeElement===u,t=u.dataset.timerId>0,c=i&&r.isDropDownVisible(i);j(u),(e||t||c)&&k(n,u,!0)}))};return o.attachEventToElement(u,"keydown",l),o.attachEventToElement(u,"keyup",d),o.attachEventToElement(u,"focus",f),o.attachEventToElement(u,"blur",h),o.attachEventToElement(u,"input",g),o.attachEventToElement(a,"mousedown",T),o.attachEventToElement(document,c.TouchUIHelper.touchMouseDownEventName,I),s.registerDisposableEvents(a,(function(){o.detachEventFromElement(u,"keydown",l),o.detachEventFromElement(u,"keyup",d),o.detachEventFromElement(u,"focus",f),o.detachEventFromElement(u,"blur",h),o.detachEventFromElement(u,"input",g),o.detachEventFromElement(a,"mousedown",T),o.detachEventFromElement(document,c.TouchUIHelper.touchMouseDownEventName,I)})),m(u),Promise.resolve("ok")}}function T(e){if(e=o.ensureElement(e))return s.disposeEvents(e),Promise.resolve("ok")}n.default={init:g,dispose:T,prepareInputIfFocused:f,scrollToFocusedItem:l,fitInputWidth:m,forceInputValue:d},n.dispose=T,n.fitInputWidth=m,n.forceInputValue=d,n.init=g,n.prepareInputIfFocused=f,n.scrollToFocusedItem=l}),["cjs-chunk-c5286524.js","cjs-dom-utils-c4472fdd.js","cjs-chunk-fc814f01.js","cjs-chunk-2cdecb19.js","cjs-chunk-8bdf5a55.js","cjs-dropdowns-fca77c29.js","cjs-chunk-ac940e94.js","cjs-grid-234a64d7.js","cjs-popup-utils-f936a21d.js","cjs-focus-utils-bb76949d.js","cjs-chunk-dcd3551a.js","cjs-dragAndDropUnit-c6409559.js","cjs-chunk-c564ab5a.js"]);
