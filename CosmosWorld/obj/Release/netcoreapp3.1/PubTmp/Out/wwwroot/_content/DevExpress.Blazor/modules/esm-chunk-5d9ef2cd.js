import{attachEventToElement as e,detachEventFromElement as t}from"./esm-dom-utils-88a2c0cb.js";class n{constructor(e){this.eventTokens=[],this.context=e}attachEventWithContext(t,n,s,i){if(!this.eventTokens||!i||!t)return{item:null,name:null,delegate:null,Dispose:function(){}};const o=this,l=s.bind(i);e(t,n,l);const u={item:t,name:n,delegate:l,dispose:function(){o.detachEvent(this)}};return this.eventTokens.push(u),u}attachEvent(e,t,n){return this.attachEventWithContext(e,t,n,this.context)}detachEvent(e){if(!this.eventTokens)return null;if(!e||!e.item)return!1;const n=this.eventTokens.indexOf(e);return!!(n&&n>0)&&(t(e.item,e.name,e.delegate),this.eventTokens.splice(n,1),e.item=null,e.delegate=null,e.Dispose=function(){},!0)}dispose(){return!!this.eventTokens&&(this.eventTokens.forEach((function(e){e.item&&(t(e.item,e.name,e.delegate),e.item=null,e.delegate=null,e.Dispose=function(){})})),this.eventTokens=null,!0)}}export{n as E};
