DxBlazorInternal.define("cjs-grid-234a64d7.js",(function(e,t,l){var o=e("./cjs-chunk-c5286524.js"),n=e("./cjs-dom-utils-c4472fdd.js"),r=e("./cjs-chunk-fc814f01.js"),i=e("./cjs-chunk-2cdecb19.js"),a=e("./cjs-chunk-ac940e94.js"),c=".dxbs-table td.table-active",s=".dropdown-item.active",u=".dropdown-item.focused",d={GroupPanelHead:"gph",ColumnHead:"ch"};function h(e){if(!e.hasAttribute("data-dxdg-draggable"))return null;var t=e.getAttribute("data-dxdg-draggable").split("|"),l=!(t.length>2)||"1"===t[2],o=t.length>1?d[t[1]]:d.ColumnHead,n=o===d.ColumnHead?parseInt(t[0]):-1,r=o===d.GroupPanelHead?parseInt(t[0]):-1,i=e.previousElementSibling;return{columnVisibleIndex:n,groupVisibleIndex:r,columnHeadType:o,canBeGrouped:l,needInsertBeforeToo:!i||!h(i),element:e}}function g(e){return"[data-dxdg-draggable-id="+e+"]"}function f(e,t,l){var o,n,r;o=e,n=p(t,"clientX")-l.left,r=p(t,"clientY")-l.top,void(o.style.transform=["translate(",Math.round(n),"px, ",Math.round(r),"px)"].join(""))}function p(e,t){return void 0!==e[t]?e[t]:void 0!==e.touches?e.touches[0][t]:0}function m(e,t,l){var r=p(e,"clientX"),a=p(e,"clientY"),c=e.target,s=!1,u=function(e){var o=Math.abs(r-p(e,"clientX"))>10,u=Math.abs(a-p(e,"clientY"))>10;return(o||u)&&(s=!0,m(),function(e,t,l,o){var r=g(l),a=n.findParentBySelector(t,r);if(!a)return;var c=n.getParentByClassName(a,"dxbs-gridview").getBoundingClientRect(),s=h(a),u=n.getDocumentScrollLeft(),m=n.getDocumentScrollTop(),H={left:0,top:0},T=function(e,t){for(var l=[],o=g(t),n=document.querySelectorAll(o),r=!1,i=!1,a=0;a<n.length;a++){var c=n[a],s=c.getBoundingClientRect(),u=h(c),f=u.columnVisibleIndex,p=u.groupVisibleIndex,m=u.columnHeadType;m===d.GroupPanelHead?r=!0:m===d.ColumnHead&&(i=!0),u.needInsertBeforeToo&&l.push(new v(c,s.left,s.top,s.bottom,f,p,m,!0,!1)),l.push(new v(c,s.right,s.top,s.bottom,f,p,m,!1,!1))}if(r||i){if(!r){var y=document.querySelector("[data-dxdg-drag-group-panel="+t+"]");if(y){var S=y.getBoundingClientRect();l.push(new v(y,S.left,S.top,S.bottom,-1,0,d.GroupPanelHead,!1,!0,!0))}}if(!i){var H=document.querySelector("[data-dxdg-drag-head-row="+t+"]");if(H){var T=H.getBoundingClientRect();l.push(new v(H,T.right,T.top,T.bottom,-1,-1,d.ColumnHead,!1,!0,!0))}}}return l}(0,l),E=function(e,t){var l=e.cloneNode(!0),o=e.getBoundingClientRect(),n={left:p(t,"clientX")-o.left,top:p(t,"clientY")-o.top};if("DIV"!==l.tagName){var r=document.createElement("DIV"),i=window.getComputedStyle(e);r.innerHTML=l.innerHTML,r.className="card "+e.className,r.style.width=o.width+"px",r.style.height=o.height+"px",r.style.paddingTop=i.paddingTop,r.style.paddingBottom=i.paddingBottom,r.style.paddingLeft=i.paddingLeft,r.style.paddingRight=i.paddingRight,l=r}else l.style.width=o.width+"px",l.style.height=o.height+"px";l.className=l.className+" dx-dragging-state",document.body.appendChild(l);var a=l.getBoundingClientRect();return{dragElement:l,offsetFromMouse:{left:a.left+n.left,top:a.top+n.top}}}(a,e),b=E.dragElement,x=E.offsetFromMouse;f(b,e,x);var w=!0,I=null,R=function(e){return w&&(b.style.visibility="visible",w=!1),f(b,e,{left:x.left+H.left,top:x.top+H.top}),I=function(e,t,l,o,r,i){!function(e){for(var t=g(e),l=document.querySelectorAll("div.dxgv-target-marks"+t),o=0;o<l.length;o++){var n=l[o];n.parentNode.removeChild(n)}}(t);for(var a=null,c=[],s=p(o,"clientX"),u=p(o,"clientY"),h=0;h<e.length;h++){var f=e[h];if(f.columnHeadType!==d.GroupPanelHead||l.canBeGrouped)if(f.top+r.top<=u&&u<=f.bottom+r.top){if(f.wholeRowIsRarget){a=f;break}c.push({distance:Math.abs(Math.abs(f.x+r.left)-Math.abs(s)),target:f})}}if(null==a){var m=1e6;for(var v in c)m>c[v].distance&&S(s,l,c[v].target)&&(m=c[v].distance,a=c[v].target)}null==a||y(l,a)||a.x>=i.left&&a.x<=i.right&&!function(e,t){var l=document.createElement("DIV");l.className="dxgv-target-marks",l.dataset.dxdgDraggableId=t,l.style.top=e.top+(e.docScrollTop-n.getDocumentScrollTop())+n.getDocumentScrollTop()-1-1+"px",l.style.height=e.bottom-e.top+2+"px",l.style.left=e.x+(e.docScrollLeft-n.getDocumentScrollLeft())+n.getDocumentScrollLeft()+"px",l.innerHTML=["<span class='oi oi-arrow-bottom' aria-hidden='true'></span>","<div style='height:",l.style.height,"'></div>","<span class='oi oi-arrow-top' aria-hidden='true'></span>"].join(""),document.body.appendChild(l),e.mark=l}(a,t);return a}(T,l,s,e,H,c),e.preventDefault(),!1},B=function(){I&&!y(s,I)&&(o.invokeMethodAsync("OnGridColumnHeadDragNDrop",s.columnHeadType===d.GroupPanelHead?s.groupVisibleIndex:s.columnVisibleIndex,s.columnHeadType,I.columnHeadType===d.GroupPanelHead?I.groupVisibleIndex:I.columnVisibleIndex,I.columnHeadType,I.insertBefore),I.mark&&I.mark.parentNode.removeChild(I.mark));n.detachEventFromElement(document,i.TouchUIHelper.touchMouseMoveEventName,R),n.detachEventFromElement(document,i.TouchUIHelper.touchMouseUpEventName,B),n.detachEventFromElement(window,"scroll",D),b.parentNode.removeChild(b)},D=function(){H={left:u-n.getDocumentScrollLeft(),top:m-n.getDocumentScrollTop()}};n.attachEventToElement(document,i.TouchUIHelper.touchMouseMoveEventName,R),n.attachEventToElement(document,i.TouchUIHelper.touchMouseUpEventName,B),n.attachEventToElement(window,"scroll",D)}(e,c,t,l)),e.preventDefault(),!1},m=function(){n.detachEventFromElement(document,i.TouchUIHelper.touchMouseMoveEventName,u),n.detachEventFromElement(document,i.TouchUIHelper.touchMouseUpEventName,m),!s&&c&&o.Browser.WebKitTouchUI&&c.click()};return n.attachEventToElement(document,i.TouchUIHelper.touchMouseMoveEventName,u),n.attachEventToElement(document,i.TouchUIHelper.touchMouseUpEventName,m),e.preventDefault(),c.focus(),!1}function v(e,t,l,o,r,i,a,c,s){this.element=e,this.x=t,this.top=l,this.bottom=o,this.columnVisibleIndex=r,this.groupVisibleIndex=i,this.columnHeadType=a,this.insertBefore=c,this.wholeRowIsRarget=s,this.docScrollTop=n.getDocumentScrollTop(),this.docScrollLeft=n.getDocumentScrollLeft()}function y(e,t){function l(e,t){return t.groupVisibleIndex===e.groupVisibleIndex||t.groupVisibleIndex===e.groupVisibleIndex-1&&!t.insertBefore}function o(e,t){return t.columnVisibleIndex===e.columnVisibleIndex||t.columnVisibleIndex===e.columnVisibleIndex-1&&!t.insertBefore}return!(t.columnHeadType!==e.columnHeadType||e.columnHeadType!==d.GroupPanelHead||!l(e,t))||(!(t.columnHeadType!==e.columnHeadType||e.columnHeadType!==d.ColumnHead||!o(e,t))||(!(e.columnHeadType!==d.GroupPanelHead||t.columnHeadType!==d.ColumnHead||-1===e.columnVisibleIndex||!o(e,t))||!(e.columnHeadType!==d.ColumnHead||t.columnHeadType!==d.GroupPanelHead||-1===e.groupVisibleIndex||!l(e,t))))}function S(e,t,l){var o=t.element.getBoundingClientRect();if(y(t,l)&&(e<o.left||e>o.right))return!1;if(l.x<o.left){if(e>o.right)return!1}else if(e<o.left)return!1;return!0}d[1]=d.ColumnHead,d[0]=d.GroupPanelHead;var H=function(e,t,l){this._itemHeight=e,this._scrollTop=t,this._scrollHeight=l},T={itemHeight:{configurable:!0},scrollTop:{configurable:!0},scrollHeight:{configurable:!0}};function E(e){if(n.elementIsInDOM(e)){var t=function(e){var t=e.querySelector("*[id$='_LB']");t||(t=e.parentNode.querySelector("*[id$='_LB']"));t||(t=e);if(t){var l=t.querySelector(s);if(l||(l=t.querySelector(c)),l)return l.parentNode}return null}(e);if(t||(t=function(e){var t=null;n.querySelectorFromRoot(e,(function(l){t=e.querySelector("*"+l+" > *[id$='_LB']")})),t||n.querySelectorFromRoot(e.parentNode,(function(l){t=e.parentNode.querySelector("*"+l+" > *[id$='_LB']")}));var l=t?t.querySelector(c):null;return l?l.parentNode:null}(e)),t){var l=e,o=t.offsetTop;if("TABLE"===t.offsetParent.tagName){var r=t.offsetParent.previousElementSibling;r&&(o+=r.clientHeight)}var i=l.scrollTop+l.clientHeight<o+t.offsetHeight;l.scrollTop>o&&(l.scrollTop=o),i&&(l.scrollTop=o-(l.clientHeight-t.offsetHeight))}}}function b(e){void 0===e.dataset.virtualScrollLock&&(e.dataset.virtualScrollLock=0)}function x(e){b(e),e.dataset.virtualScrollLock++}function w(e){b(e),e.dataset.virtualScrollLock--}function I(e,t,l,o,r,i,a){l.isHorizontalScrolling&&!function(e,t,l){if(t.scrollLeft===l.scrollLeft)return;var o=n.getEventSource(e);o===t?l.scrollLeft=t.scrollLeft:o===l&&setTimeout((function(){return t.scrollLeft=l.scrollLeft}),0)}(e,o,r),l.isVirtualScrolling&&function(e,t,l,o,n){if(r=l,b(r),r.dataset.virtualScrollLock>0)return;var r;!function(e,t,l,o,n){var r=!0;l.dataset.prevScrollTop?r=l.dataset.prevScrollTop!==l.scrollTop.toString():l.dataset.prevScrollTop=l.scrollTop;R(l),r&&(l.dataset.OnScrollTimerId=setTimeout((function(){!function(e,t,l,o,n){var r=B(t),i=N(t,n),a=i.scrollTop,c=i.scrollBottom,s=o.clientHeight>0&&c>l.offsetHeight+r.offsetHeight;(l.clientHeight>0&&a<l.offsetHeight||s)&&!function(e,t,l){if(e.dxScrollStateCache&&e.dxScrollStateCache.isEqual(l))return;e.dxScrollStateCache=l,t.DxRestoreScrollTop=t.scrollTop,x(t),e.invokeMethodAsync("OnGridVirtualScroll",l.itemHeight,l.scrollTop,l.scrollHeight).then((function(l){!function(e,t){P(e.mainElement,e,t)}(l,e),w(t)})).catch(q)}(e,t,i.requestScrollState)}(e,l,o,n,!1),t.needInternalSettings&&L(t)}),200))}(e,t,l,o,n)}(t,l,o,i,a)}function R(e){e.dataset.OnScrollTimerId&&(clearTimeout(e.dataset.OnScrollTimerId),delete e.dataset.OnScrollTimerId)}function B(e){var t=e.querySelector("table.dxbs-table"),l=e.parentNode.querySelector("div.dxbs-listbox > ul");return t||l}function D(e,t,l,o,n){var r=B(t),i=function(e,t){var l=V(e);return{itemHeight:l,spacerTop:t.virtualScrollingOptions.itemsAbove*l,spacerBelow:t.virtualScrollingOptions.itemsBelow*l}}(r,n);l.style.height=i.spacerTop+"px",o.style.height=i.spacerBelow+"px",function(e,t,l,o){if(e.clientHeight>t.offsetHeight)return;e.scrollTop<l.clientHeight&&(e.scrollTop=l.clientHeight+1);e.scrollTop+e.clientHeight>l.clientHeight+t.offsetHeight&&(e.scrollTop=l.clientHeight+t.offsetHeight-e.clientHeight-1)}(t,r,l)}function V(e){for(var t=function(e){var t=[];return e.dataset.tempUniqueId="tempUniqueId","TABLE"===e.tagName?t=e.parentNode.querySelectorAll("TABLE[data-temp-unique-id] > TBODY > TR"):"UL"===e.tagName&&(t=e.parentNode.querySelectorAll("ul[data-temp-unique-id] > li")),delete e.dataset.tempUniqueId,t}(e),l={},o=0;o<t.length;o++){var n=t[o];l[n.offsetHeight]=l[n.offsetHeight]?l[n.offsetHeight]+1:1}var r=0,i=0;for(var a in l)l[a]>i&&(i=l[a],r=a);return Number.parseInt(r)}function N(e,t){var l=300,o=300;t&&(l=0,o=0);var n=B(e),r=e.scrollTop-l;r<0&&(r=0);var i=e.scrollTop+e.clientHeight+o,a=r-l;a<0&&(a=0);var c=i-a+o,s=V(n);return{scrollTop:r,scrollBottom:i,requestScrollState:new H(s,a,c)}}function q(e){e&&e.mainElement&&U(e.mainElement)}function C(e,t){return(t.isVerticalScrolling||t.isVirtualScrolling)&&(e.clientHeight<e.scrollHeight||"scroll"===e.style.overflowY)}function M(e){return function(){if(e.ownerStyleSheet){var t=e.parentStyleSheet,l=Array.prototype.indexOf.call(t.cssRules,e);l>-1&&t.deleteRule(l)}}}function L(e){var t=e.elementsStorage,l=n.ensureElement(e.mainElement).parentElement;if(l){var o=n.ensureElement(t.scrollElement),r=n.ensureElement(t.scrollHeaderElement),i=[],c=window.getComputedStyle(l);if(!o.style.maxHeight){if(!c)return;var s=parseInt(c.borderTopWidth,10)+parseInt(c.borderBottomWidth,10);if(e.isDropDown){var u=parseInt(c.maxHeight,10)-s;o.style.maxHeight=u-r.offsetHeight+"px"}else{var d=n.subscribeElementContentSize(l,(function(e){o.style.maxHeight=e.height-r.offsetHeight+"px"})),h=n.subscribeElementContentSize(r,(function(e){o.style.maxHeight=l.clientHeight-(e.height+2*n.getTopBottomBordersAndPaddingsSummaryValue(r))+"px"}));i.push((function(){n.unsubscribeElement(d),n.unsubscribeElement(h)})),o.style.maxHeight=l.clientHeight-r.offsetHeight+"px"}}var g=!0;if(l.dataset.calculated&&(g=e.isVirtualScrolling),g&&e.isDropDown&&2!==e.dropDownWidthMode){var f=o.querySelector("table"),p=r.querySelector("table");if(!f||!p)return;var m=N(f,"tbody>tr"),v=m&&1===m.length&&f.querySelector("tr.dxbs-empty-data-row"),y=N(p,"colgroup"),S=N(f,"colgroup");l.dataset.calculated&&j(y,S);var H=0;if(v)p.style.width="auto",f.style.width=window.getComputedStyle(p).width;else{var T=N(p,"thead>tr");if(!(y&&T&&m&&S))return;f.style.width=p.style.width="auto";for(var E=[],b=0;b<y.length;b++)if(y[b].style.width)if(-1!==y[b].style.width.indexOf("%"))E.push(b);else{var x=n.getCurrentStyleSheet(),w=n.ensureElement(e.mainElement).getAttribute("data-dxdg-id"),I=null;x&&(x.insertRule("[data-dxdg-id='"+w+"'] table tr>td:nth-child("+(b+1)+"), [data-dxdg-id='"+w+"'] table tr>th:nth-child("+(b+1)+") { max-width:"+y[b].style.width+"; }",x.cssRules.length),I=x.cssRules[x.cssRules.length-1],H+=parseFloat(y[b].style.width,10)),i.push(M(I))}else y[b].dataset.autoWidth=!0,H+=k(y[b],S[b],T[b],m[b]);if(E.length>0)for(var R=0;R<E.length;R++)H+=k(y[R],S[R],T[R],m[R]);f.removeAttribute("style"),p.removeAttribute("style")}if(0===e.dropDownWidthMode||1===e.dropDownWidthMode){var B=n.getParentByClassName(l,"dx-blazor-multicolumn-editor");if(!B)return;var D=parseInt(c.borderRightWidth,10)+parseInt(c.borderLeftWidth,10),V=H+a.getVerticalScrollBarWidth()+D;0===e.dropDownWidthMode&&B.offsetWidth>=V?(j(y,S),l.style.width=B.offsetWidth+"px"):l.style.width=V+"px"}l.dataset.calculated=!0}return i.length>0?function(){i.forEach((function(e){return e()}))}:null}function N(e,t){var l=e.querySelector(t);return l?l.children:null}}function k(e,t,l,o){var n=l.offsetWidth,r=o.offsetWidth,i=n>r?n:r;return t.style.width=e.style.width=i+"px",i}function j(e,t){for(var l=0;l<e.length;l++)if(e[l].dataset.autoWidth&&(e[l].style.width=null,t)){var o=t.item(l);o&&(o.style.width=null)}}function P(e,t,l){var o=n.ensureElement(e);if(o){var c=l,s=t.scrollToSelectedItemRequested,u=t.elementsStorage,d=n.ensureElement(u.scrollElement),h=n.ensureElement(u.scrollHeaderElement),g=n.ensureElement(u.virtualScrollSpacerTopElement),f=n.ensureElement(u.virtualScrollSpacerBottomElement);r.disposeEvents(o);var p=null,v=null,y=null,S=null,H=null;t.needInternalSettings&&(H=L(t)),d=n.ensureElement(d);var T=null;d&&(h=n.ensureElement(h),x(d),t.isVirtualScrolling&&(g=n.ensureElement(g),f=n.ensureElement(f)),(t.isVirtualScrolling||t.isVerticalScrolling)&&function(e,t,l){if((l.isVerticalScrolling||l.isVirtualScrolling)&&t){var o=[t];if(C(e,l)){var n=a.getVerticalScrollBarWidth();if(17!==n||l.isHorizontalScrolling)for(var r=l.isHorizontalScrolling?"paddingRight":"marginRight",i=l.isHorizontalScrolling?"marginRight":"paddingRight",c=0,s=o.length;c<s;c++)o[c].style[r]="0",o[c].style[i]=n+"px";else e.style.paddingRight="",e.style.marginRight="",t.style.paddingRight="",t.style.marginRight=""}else e.style.paddingRight="0",e.style.marginRight="0",t.style.paddingRight="0",t.style.marginRight="0"}}(d,h,t),t.isVirtualScrolling&&(D(0,d,g,f,t),s?E(d):d.DxRestoreScrollTop&&(d.scrollTop=d.DxRestoreScrollTop,delete d.DxRestoreScrollTop)),T=function(e){for(var t=e.querySelectorAll(".btn.btn-toggle"),l=0,o=0;o<t.length;o++){var r=t[o],i=r.offsetWidth+n.getLeftRightBordersAndPaddingsSummaryValue(r.parentNode);if(i>0){l=i;break}}var a=n.getCurrentStyleSheet(),c=e.getAttribute("data-dxdg-id"),s=null;return a&&(a.insertRule("[data-dxdg-id='"+c+"'] > col.dxbs-grid-cols-togglebtn { width:"+l+"px !important; }",a.cssRules.length),s=a.cssRules[a.cssRules.length-1]),M(s)}(o),n.attachEventToElement(d,"scroll",p=function(e){return I(e,c,t,d,h,g,f)}),h&&n.attachEventToElement(h,"scroll",p),w(d),function(e){return!e.needInternalSettings&&(e.isHorizontalScrolling||e.isVerticalScrolling)}(t)&&((v=function(){!function(e,t,l,o,n,r){var i,c;t&&(x(t),i=t.style.overflowX,t.style.overflowX="hidden",t.style.width="0"),l&&(c=l.style.overflowX,l.style.overflowX="hidden",l.style.width="0");var s=e.clientWidth;if(t&&(s&&(t.style.width=s+"px"),t.style.overflowX=i),l){var u=C(t,r)?a.getVerticalScrollBarWidth():0;s&&(l.style.width=s-u+"px"),l.style.overflowX=c}t&&w(t)}(o,d,h,0,0,t)})(),n.attachEventToElement(window,"resize",v)));var b=null,B=null;if(t.isColumnDragEnabled){var V=o.dataset.dxdgId;V&&((b=o.querySelector("[data-dxdg-drag-head-row='"+V+"']"))&&n.attachEventToElement(b,i.TouchUIHelper.touchMouseDownEventName,y=function(e){return m(e,V,c)}),(B=o.querySelector("[data-dxdg-gp='"+V+"']"))&&n.attachEventToElement(B,i.TouchUIHelper.touchMouseDownEventName,S=function(e){return m(e,V,c)}))}return r.registerDisposableEvents(o,(function(){T&&T(),H&&H(),p&&(n.detachEventFromElement(d,"scroll",I),h&&n.detachEventFromElement(h,"scroll",I)),v&&n.detachEventFromElement(window,"resize",v),d&&R(d),y&&b&&n.detachEventFromElement(b,i.TouchUIHelper.touchMouseDownEventName,y),S&&B&&n.detachEventFromElement(B,i.TouchUIHelper.touchMouseDownEventName,S)})),Promise.resolve("ok")}}function U(e){return(e=n.ensureElement(e))&&r.disposeEvents(e),Promise.resolve("ok")}T.itemHeight.get=function(){return this._itemHeight},T.scrollTop.get=function(){return this._scrollTop},T.scrollHeight.get=function(){return this._scrollHeight},H.prototype.isEqual=function(e){return this.itemHeight===e.itemHeight&&this.scrollTop===e.scrollTop&&this.scrollHeight===e.scrollHeight},Object.defineProperties(H.prototype,T);var A={init:P,dispose:U};l.HasParametersForVirtualScrollingRequest=function(e){return null!==B(e)},l.default=A,l.dispose=U,l.getParametersForVirtualScrollingRequest=N,l.init=P,l.scrollToFocusedItem=function(e){if(n.elementIsInDOM(e)){var t=function(e){var t=e.querySelector("*[id$='_LB']");t||(t=e.parentNode.querySelector("*[id$='_LB']"));t||(t=e);if(t){var l=t.querySelector(u);if(l)return"TR"===l.tagName?l:l.parentNode}return null}(e);if(t){var l=e.querySelector(".dxgvCSD");l||(l=e);var o=l.scrollTop+l.clientHeight<t.offsetTop+t.offsetHeight;l.scrollTop>t.offsetTop&&(l.scrollTop=t.offsetTop),o&&(l.scrollTop=t.offsetTop-(l.clientHeight-t.offsetHeight))}}},l.scrollToSelectedItem=E}),["cjs-chunk-c5286524.js","cjs-dom-utils-c4472fdd.js","cjs-chunk-fc814f01.js","cjs-chunk-2cdecb19.js","cjs-chunk-ac940e94.js"]);
